<?xml version="1.0" encoding="utf-8" ?>
<TemplateDefinition Name="ProjectK" Order="8000">
  <UI>
    <Template Name="ASP.NET 5 Preview Empty" BaseTemplateID="Microsoft.ProjectK.CSharp.EmptyWeb" Order="8010">
      <Icon>Resources\WebProject.png</Icon>
      <PreviewImage>Resources\WebProject.png</PreviewImage>
      <Summary>An empty project template for creating ASP.NET 5 Preview application. This template does not have any content in it.</Summary>
      <Description>An empty project template for creating ASP.NET 5 Preview application. This template does not have any content in it.</Description>
      <UIFilters>ProjectK</UIFilters>
      <Options>
        <Authentication Default="NoAuth">
          <NoAuth />
        </Authentication>
      </Options>
    </Template>

    <Template Name="ASP.NET 5 Preview Starter Web" BaseTemplateID="Microsoft.ProjectK.CSharp.StarterWeb" Order="8020">
      <Icon>Resources\WebProject.png</Icon>
      <PreviewImage>Resources\WebProject.png</PreviewImage>
      <Summary>A project template for creating an ASP.NET 5 Preview application. The template uses ASP.NET MVC and can be used to build Web Applications and RESTful HTTP Services.</Summary>
      <Description>A project template for creating an ASP.NET 5 Preview application. The template uses ASP.NET MVC and can be used to build Web Applications and RESTful HTTP Services.</Description>
      <UIFilters>ProjectK</UIFilters>
      <Options>
        <Authentication Default="IndividualAuth">
          <NoAuth />
          <IndividualAuth />
        </Authentication>
      </Options>
    </Template>

    <Template Name="ASP.NET 5 Preview Web API" BaseTemplateID="Microsoft.ProjectK.CSharp.WebAPI" Order="8030">
      <Icon>Resources\WebProject.png</Icon>
      <PreviewImage>Resources\WebProject.png</PreviewImage>
      <Summary>A project template for creating RESTful HTTP services that can read a broad range of clients including browsers and mobile devices.</Summary>
      <Description>A project template for creating RESTful HTTP services that can read a broad range of clients including browsers and mobile devices.</Description>
      <UIFilters>ProjectK</UIFilters>
      <Options>
        <Authentication Default="NoAuth">
          <NoAuth />
        </Authentication>
      </Options>
    </Template>
  </UI>

  <BaseTemplates>
    <BaseTemplate ID="Microsoft.ProjectK.CSharp.EmptyWeb"
              VSTemplatePath="KEmptyWeb.vstemplate">
   </BaseTemplate>

    <BaseTemplate ID="Microsoft.ProjectK.CSharp.StarterWeb"
              VSTemplatePath="KStarterWeb.vstemplate">
        <ApplyRules Option="IndividualAuth">
              <RunRule RuleID="StarterWebCommonAuth" />
              <RunRule RuleID="StarterWebIndividualAuth" />
        </ApplyRules>
    </BaseTemplate>

    <BaseTemplate ID="Microsoft.ProjectK.CSharp.WebAPI"
              VSTemplatePath="KWebAPI.vstemplate">
    </BaseTemplate>
  </BaseTemplates>
  
  <Rules>
      <Rule ID="StarterWebCommonAuth">
          <ReplaceFile Destination="Views\Shared\_Layout.cshtml" Source="Rules\StarterWeb\CommonAuth\Views\Shared\_Layout.cshtml"/>
      </Rule>
      <Rule ID="StarterWebIndividualAuth">
          <AddFile Destination="Controllers\AccountController.cs" Source="Rules\StarterWeb\IndividualAuth\Controllers\AccountController.cs"/>
          <AddFile Destination="Migrations\000000000000000_CreateIdentitySchema.cs" Source="Rules\StarterWeb\IndividualAuth\Migrations\000000000000000_CreateIdentitySchema.cs"/>
          <AddFile Destination="Migrations\ApplicationDbContextModelSnapshot.cs" Source="Rules\StarterWeb\IndividualAuth\Migrations\ApplicationDbContextModelSnapshot.cs"/>
          <AddFile Destination="Models\AccountViewModels.cs" Source="Rules\StarterWeb\IndividualAuth\Models\AccountViewModels.cs"/>
          <AddFile Destination="Models\IdentityModels.cs" Source="Rules\StarterWeb\IndividualAuth\Models\IdentityModels.cs"/>
          <AddFile Destination="Views\Account\_ChangePasswordPartial.cshtml" Source="Rules\StarterWeb\IndividualAuth\Views\Account\_ChangePasswordPartial.cshtml"/>
          <AddFile Destination="Views\Account\Login.cshtml" Source="Rules\StarterWeb\IndividualAuth\Views\Account\Login.cshtml"/>
          <AddFile Destination="Views\Account\Manage.cshtml" Source="Rules\StarterWeb\IndividualAuth\Views\Account\Manage.cshtml"/>
          <AddFile Destination="Views\Account\Register.cshtml" Source="Rules\StarterWeb\IndividualAuth\Views\Account\Register.cshtml"/>
          <AddFile Destination="Views\Shared\_LoginPartial.cshtml" Source="Rules\StarterWeb\IndividualAuth\Views\Shared\_LoginPartial.cshtml"/>
          <ReplaceFile Destination="config.json" Source="Rules\StarterWeb\IndividualAuth\config.json"/>
          <ReplaceFile Destination="project.json" Source="Rules\StarterWeb\IndividualAuth\project.json"/>
          <ReplaceFile Destination="Startup.cs" Source="Rules\StarterWeb\IndividualAuth\Startup.cs"/>
      </Rule>
  </Rules>
</TemplateDefinition>